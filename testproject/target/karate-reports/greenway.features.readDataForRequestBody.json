[{"line":2,"elements":[{"line":4,"name":"","description":"","type":"background","keyword":"Background","steps":[{"name":"def tokenResponse = callonce read('classpath:helpers\/createToken.feature')","result":{"duration":1711230469,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":5,"doc_string":{"content_type":"","value":"12:41:02.297 << lock released, cached callonce: read('classpath:helpers\/createToken.feature')\n","line":5}},{"name":"helpers\/createToken.feature","result":{"duration":0,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"","line":5},{"name":"url 'https:\/\/auth-api.gisqa.aws.greenwayhealth.com\/oauth2\/'","result":{"duration":522726,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Given","line":17,"doc_string":{"content_type":"","value":"12:41:00.515 karate.env system property was: null \n12:41:00.521 >> lock acquired, begin callSingle: classpath:helpers\/basicAuth.js\n12:41:00.572 << lock released, cached callSingle: classpath:helpers\/basicAuth.js\n12:41:00.592 >> lock acquired, begin callonce: read('classpath:helpers\/createToken.feature')\n","line":17}},{"name":"header Authorization = call read('classpath:helpers\/basicAuth.js') {username:\"#(userName)\",password:\"#(userPassword)\"}","result":{"duration":24939678,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["#username and password in bellow lines are paratmeters"],"keyword":"> And","line":19},{"name":"path 'as\/token.oauth2'","result":{"duration":334699,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":20},{"name":"request {\"grant_type\":\"client_credentials\",\"scope\":\"test-scope gcs-scope cdc-scope\"}","result":{"duration":133182,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":21},{"name":"method POST","result":{"duration":1662744387,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> When","line":22,"doc_string":{"content_type":"","value":"12:41:00.935 request:\n1 > POST https:\/\/auth-api.gisqa.aws.greenwayhealth.com\/oauth2\/as\/token.oauth2\n1 > Authorization: Basic Mi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjU6UHNzNzQwMDA3NDAwMDc0MDAwNzQwMDA3NDAwMDc0MDAwNzQ=\n1 > x-mac-address: cf:32:d4:43:b5,ae:43:ad:12:f4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 76\n1 > Host: auth-api.gisqa.aws.greenwayhealth.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_231)\n1 > Accept-Encoding: gzip,deflate\n{\"grant_type\":\"client_credentials\",\"scope\":\"test-scope gcs-scope cdc-scope\"}\n\n12:41:02.291 response time in milliseconds: 1354\n1 < 200\n1 < Date: Sat, 10 Sep 2022 07:11:02 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 913\n1 < Connection: keep-alive\n1 < x-amzn-RequestId: cc868fe7-febe-4848-b4ad-5a4c0af3f4ac\n1 < access-control-allow-origin: *\n1 < x-amzn-Remapped-content-length: 913\n1 < x-amzn-Remapped-connection: close\n1 < x-amz-apigw-id: YO3E-H8MiYcFyOg=\n1 < cache-control: no-cache, no-store\n1 < etag: W\/\"391-mTvyDJoOI2fcwPcTG0WBfJtkbZc\"\n1 < x-powered-by: Express\n1 < X-Amzn-Trace-Id: Root=1-631c3886-516498692770cf1e3500bbc0\n1 < pragma: no-cache\n1 < x-amzn-Remapped-date: Sat, 10 Sep 2022 07:11:02 GMT\n{\"status\":\"OK\",\"access_token\":\"eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ\",\"scope\":\"test-scope gcs-scope cdc-scope\",\"token_type\":\"Bearer\",\"expires_in\":7199,\"message\":\"Token generated Successfully\"}\n\n","line":22}},{"name":"status 200","result":{"duration":15795,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> Then","line":23},{"name":"print response.access_token","result":{"duration":1325915,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> And","line":24,"doc_string":{"content_type":"","value":"12:41:02.294 [print] eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ \n","line":24}},{"name":"def accessToken = response.access_token","result":{"duration":1090439,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"> *","line":25},{"name":"def authToken = tokenResponse.accessToken","result":{"duration":846819,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":6},{"name":"print authToken","result":{"duration":1177135,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":7,"doc_string":{"content_type":"","value":"12:41:02.300 [print] eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ \n","line":7}},{"name":"url testDataUrl","result":{"duration":454917,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":8},{"name":"def requestBody = read('classpath:greenway\/testdata\/sampleData.json')","result":{"duration":3660751,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["#read the testdata from sampledata json file"],"keyword":"*","line":10},{"name":"def dataGenerator = Java.type('helpers.dataGenerator')","result":{"duration":2753215,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["#set the variable with all the functions in dataGenrator java file"],"keyword":"*","line":12},{"name":"set requestBody.environment = dataGenerator.getRandomAttributesValue().environment","result":{"duration":107123392,"status":"passed"},"match":{"location":"karate","arguments":[]},"comments":["#below command appends the data into existing request body and send it as new request"],"keyword":"*","line":14},{"name":"set requestBody.cdcOutboundEnvelope.cdcOutboundRows[0].tableName = dataGenerator.getRandomAttributesValue().environment","result":{"duration":15754871,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":15},{"name":"set requestBody.cdcOutboundEnvelope.cdcOutboundRows[0].cdcDataObject[0].value = dataGenerator.getRandomAttributesValue().numberwithMinMax","result":{"duration":12106989,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"*","line":16}]},{"start_timestamp":"2022-09-10T07:11:00.480Z","line":19,"name":"Read data from testdata folder json file and send it in body without any changes.","description":"Find the newly appended values in print statement","id":"read-data-from-testdata-folder-json-file-and-send-it-in-body-without-any-changes.","type":"scenario","keyword":"Scenario","steps":[{"name":"header Authorization = 'Bearer '+ authToken","result":{"duration":669207,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":21},{"name":"path 'cdcenvelope'","result":{"duration":310504,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":22},{"name":"request requestBody","result":{"duration":250736,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":23},{"name":"method POST","result":{"duration":3259076851,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"When","line":24,"doc_string":{"content_type":"","value":"12:41:02.447 request:\n2 > POST https:\/\/ingestion-api.edhqa.aws.greenwayhealth.com\/cdcenvelope\n2 > Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ\n2 > x-mac-address: cf:32:d4:43:b5,ae:43:ad:12:f4\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 3066\n2 > Host: ingestion-api.edhqa.aws.greenwayhealth.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_231)\n2 > Accept-Encoding: gzip,deflate\n{\"version\":\"1.00.00.01\",\"environment\":\"Toefinger\",\"cdcOutboundEnvelope\":{\"envelopeDateTime\":\"2021-11-05T08:15:30-05:00\",\"envelopeSequenceNumber\":\"2.16.840.1.113883.3.441.73025-20201105-000001\",\"oid\":\"2.16.840.1.113883.3.441\",\"siteId\":\"73025\",\"schemaVersion\":\"18.31.00\",\"timezone\":\"-09:00\",\"cdcOutboundRows\":[{\"tableName\":\"Galbart Glover\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"obxmanualid\",\"value\":19},{\"column\":\"obxmanualguid\",\"value\":\"59D6922F-4A6E-41B1-82B8-4B0C211B2257\"},{\"column\":\"obxconceptid\",\"value\":\"1007\"},{\"column\":\"concepthistoryid\",\"value\":null},{\"column\":\"patientid\",\"value\":\"1005\"},{\"column\":\"testdescription\",\"value\":\"Respiratory Rate\"},{\"column\":\"resultvaluetype\",\"value\":\"0\"},{\"column\":\"resultunits\",\"value\":\"degree celsius\"},{\"column\":\"resultvalue\",\"value\":\"98.5\"},{\"column\":\"localresultunits\",\"value\":\"degree celsius\"},{\"column\":\"localresultvalue\",\"value\":\"98.5\"},{\"column\":\"localresultflag\",\"value\":null},{\"column\":\"localresultuomconceptid\",\"value\":\"1005\"},{\"column\":\"referencerange\",\"value\":null},{\"column\":\"resultflag\",\"value\":null},{\"column\":\"resultstatus\",\"value\":\"1\"},{\"column\":\"collectiondate\",\"value\":\"2005-08-26 08:46:45.000\"},{\"column\":\"resultdate\",\"value\":\"2005-08-26 08:46:45.000\"},{\"column\":\"createuser\",\"value\":\"1039\"},{\"column\":\"createdate\",\"value\":\"2010-10-21 06:06:17.873\"},{\"column\":\"lastchangedby\",\"value\":\"1039\"},{\"column\":\"lastchangeddate\",\"value\":\"2010-10-21 06:06:17.873\"},{\"column\":\"resultdocumentid\",\"value\":null},{\"column\":\"documentid\",\"value\":null},{\"column\":\"enabled\",\"value\":\"1\"}]},{\"tableName\":\"obxmanualclinicalvital\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"clinicalvitalid\",\"value\":\"12121212\"},{\"column\":\"obxmanualid\",\"value\":\"12121212\"}]},{\"tableName\":\"clinicalvital\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"clinicalvitalid\",\"value\":\"12121212\"},{\"column\":\"clinicalvitalgroupid\",\"value\":\"1019\"},{\"column\":\"userid\",\"value\":\"1039\"},{\"column\":\"datetimetaken\",\"value\":\"2003-12-17 16:13:31.000\"},{\"column\":\"temperature\",\"value\":\"null\"},{\"column\":\"height\",\"value\":\"null\"},{\"column\":\"weight\",\"value\":\"null\"},{\"column\":\"bpposition\",\"value\":\"null\"},{\"column\":\"heartrate\",\"value\":\"null\"},{\"column\":\"systolicbp\",\"value\":\"10\"},{\"column\":\"diastolicbp\",\"value\":\"10\"},{\"column\":\"laterality\",\"value\":\"null\"},{\"column\":\"cuffsize\",\"value\":\"50\"},{\"column\":\"vitalsite\",\"value\":\"null\"},{\"column\":\"resprate\",\"value\":\"null\"},{\"column\":\"hrregularity\",\"value\":\"null\"},{\"column\":\"tempmethod\",\"value\":\"Oral\"},{\"column\":\"headcircumference\",\"value\":\"null\"},{\"column\":\"spo2percent\",\"value\":\"null\"},{\"column\":\"o2deliverydevice\",\"value\":\"null\"},{\"column\":\"fio2\",\"value\":\"null\"},{\"column\":\"flowrate\",\"value\":\"null\"}]},{\"tableName\":\"careprovider\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"personid\",\"value\":\"1005\"},{\"column\":\"careproviderid\",\"value\":\"1013\"},{\"column\":\"userid\",\"value\":\"1039\"}]}],\"summary\":{\"totalCount\":4}}}\n\n12:41:05.702 response time in milliseconds: 3255\n2 < 400\n2 < Date: Sat, 10 Sep 2022 07:11:05 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 39\n2 < Connection: keep-alive\n2 < x-amzn-RequestId: 682f4dd4-9fba-4cbc-bb7c-2696fbae8697\n2 < x-amz-apigw-id: YO3FNFHtiYcFkaQ=\n2 < X-Amzn-Trace-Id: Root=1-631c3887-11d026b3731c74140385d16c\n{\"message\":\"CDC Envelope is processed\"}\n\n","line":24}},{"name":"status 400","result":{"duration":8380,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":25},{"name":"print response","result":{"duration":1433152,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"And","line":26,"doc_string":{"content_type":"","value":"12:41:05.705 [print] {\n  \"message\": \"CDC Envelope is processed\"\n}\n \n","line":26}},{"name":"match response ==","result":{"duration":8920668,"status":"passed"},"match":{"location":"karate","arguments":[]},"keyword":"Then","line":27,"doc_string":{"content_type":"","value":"{\"message\":\"CDC Envelope is processed\"}","line":27}}],"tags":[{"name":"@testfileReader","line":1}]}],"name":"greenway\/features\/readDataForRequestBody.feature","description":"Read and send data","id":"read-and-send-data","keyword":"Feature","uri":"greenway\/features\/readDataForRequestBody.feature","tags":[{"name":"@testfileReader","line":1}]}]