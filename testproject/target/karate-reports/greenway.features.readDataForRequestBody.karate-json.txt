{"failedCount":0,"prefixedPath":"classpath:greenway\/features\/readDataForRequestBody.feature","packageQualifiedName":"greenway.features.readDataForRequestBody","loopIndex":-1,"relativePath":"greenway\/features\/readDataForRequestBody.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":1711230469,"millis":1711.230469,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"def tokenResponse = callonce read('classpath:helpers\/createToken.feature')"},"stepLog":"12:41:02.297 << lock released, cached callonce: read('classpath:helpers\/createToken.feature')\n","callResults":[{"failedCount":0,"prefixedPath":"classpath:helpers\/createToken.feature","packageQualifiedName":"helpers.createToken","loopIndex":-1,"relativePath":"helpers\/createToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":522726,"millis":0.522726,"status":"passed"},"step":{"line":17,"prefix":"Given","index":0,"text":"url 'https:\/\/auth-api.gisqa.aws.greenwayhealth.com\/oauth2\/'"},"stepLog":"12:41:00.515 karate.env system property was: null \n12:41:00.521 >> lock acquired, begin callSingle: classpath:helpers\/basicAuth.js\n12:41:00.572 << lock released, cached callSingle: classpath:helpers\/basicAuth.js\n12:41:00.592 >> lock acquired, begin callonce: read('classpath:helpers\/createToken.feature')\n"},{"result":{"nanos":24939678,"millis":24.939678,"status":"passed"},"step":{"comments":["#username and password in bellow lines are paratmeters"],"line":19,"prefix":"And","index":1,"text":"header Authorization = call read('classpath:helpers\/basicAuth.js') {username:\"#(userName)\",password:\"#(userPassword)\"}"}},{"result":{"nanos":334699,"millis":0.334699,"status":"passed"},"step":{"line":20,"prefix":"And","index":2,"text":"path 'as\/token.oauth2'"}},{"result":{"nanos":133182,"millis":0.133182,"status":"passed"},"step":{"line":21,"prefix":"And","index":3,"text":"request {\"grant_type\":\"client_credentials\",\"scope\":\"test-scope gcs-scope cdc-scope\"}"}},{"result":{"nanos":1662744387,"millis":1662.744387,"status":"passed"},"step":{"line":22,"prefix":"When","index":4,"text":"method POST"},"stepLog":"12:41:00.935 request:\n1 > POST https:\/\/auth-api.gisqa.aws.greenwayhealth.com\/oauth2\/as\/token.oauth2\n1 > Authorization: Basic Mi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjU6UHNzNzQwMDA3NDAwMDc0MDAwNzQwMDA3NDAwMDc0MDAwNzQ=\n1 > x-mac-address: cf:32:d4:43:b5,ae:43:ad:12:f4\n1 > Content-Type: application\/json; charset=UTF-8\n1 > Content-Length: 76\n1 > Host: auth-api.gisqa.aws.greenwayhealth.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_231)\n1 > Accept-Encoding: gzip,deflate\n{\"grant_type\":\"client_credentials\",\"scope\":\"test-scope gcs-scope cdc-scope\"}\n\n12:41:02.291 response time in milliseconds: 1354\n1 < 200\n1 < Date: Sat, 10 Sep 2022 07:11:02 GMT\n1 < Content-Type: application\/json; charset=utf-8\n1 < Content-Length: 913\n1 < Connection: keep-alive\n1 < x-amzn-RequestId: cc868fe7-febe-4848-b4ad-5a4c0af3f4ac\n1 < access-control-allow-origin: *\n1 < x-amzn-Remapped-content-length: 913\n1 < x-amzn-Remapped-connection: close\n1 < x-amz-apigw-id: YO3E-H8MiYcFyOg=\n1 < cache-control: no-cache, no-store\n1 < etag: W\/\"391-mTvyDJoOI2fcwPcTG0WBfJtkbZc\"\n1 < x-powered-by: Express\n1 < X-Amzn-Trace-Id: Root=1-631c3886-516498692770cf1e3500bbc0\n1 < pragma: no-cache\n1 < x-amzn-Remapped-date: Sat, 10 Sep 2022 07:11:02 GMT\n{\"status\":\"OK\",\"access_token\":\"eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ\",\"scope\":\"test-scope gcs-scope cdc-scope\",\"token_type\":\"Bearer\",\"expires_in\":7199,\"message\":\"Token generated Successfully\"}\n\n"},{"result":{"nanos":15795,"millis":0.015795,"status":"passed"},"step":{"line":23,"prefix":"Then","index":5,"text":"status 200"}},{"result":{"nanos":1325915,"millis":1.325915,"status":"passed"},"step":{"line":24,"prefix":"And","index":6,"text":"print response.access_token"},"stepLog":"12:41:02.294 [print] eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ \n"},{"result":{"nanos":1090439,"millis":1.090439,"status":"passed"},"step":{"line":25,"prefix":"*","index":7,"text":"def accessToken = response.access_token"}}],"executorName":"pool-1-thread-1","line":16,"name":"Generate bearer token for different users based on calling parameters","description":"","durationMillis":1691.106821,"startTime":1662793860602,"failed":false,"refId":"[1:16]","endTime":1662793862295,"exampleIndex":-1}],"callDepth":1,"name":"Create token","description":"","resultDate":"2022-09-10 12:41:05 PM","durationMillis":1691.106821,"passedCount":1}]},{"result":{"nanos":846819,"millis":0.846819,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def authToken = tokenResponse.accessToken"}},{"result":{"nanos":1177135,"millis":1.177135,"status":"passed"},"step":{"background":true,"line":7,"prefix":"And","index":2,"text":"print authToken"},"stepLog":"12:41:02.300 [print] eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ \n"},{"result":{"nanos":454917,"millis":0.454917,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"url testDataUrl"}},{"result":{"nanos":3660751,"millis":3.660751,"status":"passed"},"step":{"comments":["#read the testdata from sampledata json file"],"background":true,"line":10,"prefix":"*","index":4,"text":"def requestBody = read('classpath:greenway\/testdata\/sampleData.json')"}},{"result":{"nanos":2753215,"millis":2.753215,"status":"passed"},"step":{"comments":["#set the variable with all the functions in dataGenrator java file"],"background":true,"line":12,"prefix":"*","index":5,"text":"def dataGenerator = Java.type('helpers.dataGenerator')"}},{"result":{"nanos":107123392,"millis":107.123392,"status":"passed"},"step":{"comments":["#below command appends the data into existing request body and send it as new request"],"background":true,"line":14,"prefix":"*","index":6,"text":"set requestBody.environment = dataGenerator.getRandomAttributesValue().environment"}},{"result":{"nanos":15754871,"millis":15.754871,"status":"passed"},"step":{"background":true,"line":15,"prefix":"*","index":7,"text":"set requestBody.cdcOutboundEnvelope.cdcOutboundRows[0].tableName = dataGenerator.getRandomAttributesValue().environment"}},{"result":{"nanos":12106989,"millis":12.106989,"status":"passed"},"step":{"background":true,"line":16,"prefix":"*","index":8,"text":"set requestBody.cdcOutboundEnvelope.cdcOutboundRows[0].cdcDataObject[0].value = dataGenerator.getRandomAttributesValue().numberwithMinMax"}},{"result":{"nanos":669207,"millis":0.669207,"status":"passed"},"step":{"line":21,"prefix":"Then","index":0,"text":"header Authorization = 'Bearer '+ authToken"}},{"result":{"nanos":310504,"millis":0.310504,"status":"passed"},"step":{"line":22,"prefix":"And","index":1,"text":"path 'cdcenvelope'"}},{"result":{"nanos":250736,"millis":0.250736,"status":"passed"},"step":{"line":23,"prefix":"And","index":2,"text":"request requestBody"}},{"result":{"nanos":3259076851,"millis":3259.076851,"status":"passed"},"step":{"line":24,"prefix":"When","index":3,"text":"method POST"},"stepLog":"12:41:02.447 request:\n2 > POST https:\/\/ingestion-api.edhqa.aws.greenwayhealth.com\/cdcenvelope\n2 > Authorization: Bearer eyJhbGciOiJSUzI1NiIsImtpZCI6IlZVWEJaUHJSMkVFVl8yYWJHMUxhYWpEVkxGcyIsInBpLmF0bSI6ImhzYTIifQ.eyJzY29wZSI6InRlc3Qtc2NvcGUgZ2NzLXNjb3BlIGNkYy1zY29wZSIsImNsaWVudF9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwiaXNzIjoiaHR0cHM6Ly9hdXRoLWFwaS5naXNxYS5hd3MuZ3JlZW53YXloZWFsdGguY29tL29hdXRoMiIsIm9pZCI6IjIuMTYuODQwLjEuMTEzODgzLjMuNDQxLjczMDI1IiwidGVuYW50IjoiMi4xNi44NDAuMS4xMTM4ODMuMy40NDEuNzMwMjUiLCJleHAiOjE2NjI4MDEwNjJ9.fxLbPaRB2KqxsR70DOzrCDpJuZPXiws5BYa5rvUasaKcinf1vWSLtlGvNnAwEHvdg2KU5diRh5MClZUqrDSVNCUCVcMQKB7hQX1Ctv6ZC3vgR7QTDvvAWIwE0pAsAb3c5f7LJMvEm0zcSdIQ_hlBjJK8kDqDObAc_OKs4Ade-KV8PxoAfLGGvTXcxW7dTJ97BcWpE4ehv0Ew-QRjtYowBc07EiKl6hplYj8mLDT3s1FwLuy4eVkJvOsQVYDpIAJ1iadi2PABHgLVcGwtM0wRD2ad0ljIsuqL_b7FzmL3uBEQwPeK755MbQLPHK2r-aYSENS_qBkE5O9jgcGp7gehqQ\n2 > x-mac-address: cf:32:d4:43:b5,ae:43:ad:12:f4\n2 > Content-Type: application\/json; charset=UTF-8\n2 > Content-Length: 3066\n2 > Host: ingestion-api.edhqa.aws.greenwayhealth.com\n2 > Connection: Keep-Alive\n2 > User-Agent: Apache-HttpClient\/4.5.13 (Java\/1.8.0_231)\n2 > Accept-Encoding: gzip,deflate\n{\"version\":\"1.00.00.01\",\"environment\":\"Toefinger\",\"cdcOutboundEnvelope\":{\"envelopeDateTime\":\"2021-11-05T08:15:30-05:00\",\"envelopeSequenceNumber\":\"2.16.840.1.113883.3.441.73025-20201105-000001\",\"oid\":\"2.16.840.1.113883.3.441\",\"siteId\":\"73025\",\"schemaVersion\":\"18.31.00\",\"timezone\":\"-09:00\",\"cdcOutboundRows\":[{\"tableName\":\"Galbart Glover\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"obxmanualid\",\"value\":19},{\"column\":\"obxmanualguid\",\"value\":\"59D6922F-4A6E-41B1-82B8-4B0C211B2257\"},{\"column\":\"obxconceptid\",\"value\":\"1007\"},{\"column\":\"concepthistoryid\",\"value\":null},{\"column\":\"patientid\",\"value\":\"1005\"},{\"column\":\"testdescription\",\"value\":\"Respiratory Rate\"},{\"column\":\"resultvaluetype\",\"value\":\"0\"},{\"column\":\"resultunits\",\"value\":\"degree celsius\"},{\"column\":\"resultvalue\",\"value\":\"98.5\"},{\"column\":\"localresultunits\",\"value\":\"degree celsius\"},{\"column\":\"localresultvalue\",\"value\":\"98.5\"},{\"column\":\"localresultflag\",\"value\":null},{\"column\":\"localresultuomconceptid\",\"value\":\"1005\"},{\"column\":\"referencerange\",\"value\":null},{\"column\":\"resultflag\",\"value\":null},{\"column\":\"resultstatus\",\"value\":\"1\"},{\"column\":\"collectiondate\",\"value\":\"2005-08-26 08:46:45.000\"},{\"column\":\"resultdate\",\"value\":\"2005-08-26 08:46:45.000\"},{\"column\":\"createuser\",\"value\":\"1039\"},{\"column\":\"createdate\",\"value\":\"2010-10-21 06:06:17.873\"},{\"column\":\"lastchangedby\",\"value\":\"1039\"},{\"column\":\"lastchangeddate\",\"value\":\"2010-10-21 06:06:17.873\"},{\"column\":\"resultdocumentid\",\"value\":null},{\"column\":\"documentid\",\"value\":null},{\"column\":\"enabled\",\"value\":\"1\"}]},{\"tableName\":\"obxmanualclinicalvital\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"clinicalvitalid\",\"value\":\"12121212\"},{\"column\":\"obxmanualid\",\"value\":\"12121212\"}]},{\"tableName\":\"clinicalvital\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"clinicalvitalid\",\"value\":\"12121212\"},{\"column\":\"clinicalvitalgroupid\",\"value\":\"1019\"},{\"column\":\"userid\",\"value\":\"1039\"},{\"column\":\"datetimetaken\",\"value\":\"2003-12-17 16:13:31.000\"},{\"column\":\"temperature\",\"value\":\"null\"},{\"column\":\"height\",\"value\":\"null\"},{\"column\":\"weight\",\"value\":\"null\"},{\"column\":\"bpposition\",\"value\":\"null\"},{\"column\":\"heartrate\",\"value\":\"null\"},{\"column\":\"systolicbp\",\"value\":\"10\"},{\"column\":\"diastolicbp\",\"value\":\"10\"},{\"column\":\"laterality\",\"value\":\"null\"},{\"column\":\"cuffsize\",\"value\":\"50\"},{\"column\":\"vitalsite\",\"value\":\"null\"},{\"column\":\"resprate\",\"value\":\"null\"},{\"column\":\"hrregularity\",\"value\":\"null\"},{\"column\":\"tempmethod\",\"value\":\"Oral\"},{\"column\":\"headcircumference\",\"value\":\"null\"},{\"column\":\"spo2percent\",\"value\":\"null\"},{\"column\":\"o2deliverydevice\",\"value\":\"null\"},{\"column\":\"fio2\",\"value\":\"null\"},{\"column\":\"flowrate\",\"value\":\"null\"}]},{\"tableName\":\"careprovider\",\"opCode\":\"update\",\"transactionDateTime\":\"2021-11-11T08:15:33-05:00\",\"cdcDataObject\":[{\"column\":\"personid\",\"value\":\"1005\"},{\"column\":\"careproviderid\",\"value\":\"1013\"},{\"column\":\"userid\",\"value\":\"1039\"}]}],\"summary\":{\"totalCount\":4}}}\n\n12:41:05.702 response time in milliseconds: 3255\n2 < 400\n2 < Date: Sat, 10 Sep 2022 07:11:05 GMT\n2 < Content-Type: application\/json; charset=utf-8\n2 < Content-Length: 39\n2 < Connection: keep-alive\n2 < x-amzn-RequestId: 682f4dd4-9fba-4cbc-bb7c-2696fbae8697\n2 < x-amz-apigw-id: YO3FNFHtiYcFkaQ=\n2 < X-Amzn-Trace-Id: Root=1-631c3887-11d026b3731c74140385d16c\n{\"message\":\"CDC Envelope is processed\"}\n\n"},{"result":{"nanos":8380,"millis":0.00838,"status":"passed"},"step":{"line":25,"prefix":"Then","index":4,"text":"status 400"}},{"result":{"nanos":1433152,"millis":1.433152,"status":"passed"},"step":{"line":26,"prefix":"And","index":5,"text":"print response"},"stepLog":"12:41:05.705 [print] {\n  \"message\": \"CDC Envelope is processed\"\n}\n \n"},{"result":{"nanos":8920668,"millis":8.920668,"status":"passed"},"step":{"endLine":30,"line":27,"prefix":"Then","docString":"{\"message\":\"CDC Envelope is processed\"}","index":6,"text":"match response =="}}],"line":19,"description":"Find the newly appended values in print statement","durationMillis":5125.778056,"failed":false,"tags":["testfileReader"],"executorName":"pool-1-thread-1","name":"Read data from testdata folder json file and send it in body without any changes.","startTime":1662793860480,"refId":"[1:19]","endTime":1662793865714,"exampleIndex":-1}],"callDepth":0,"name":"Read and send data","description":"","resultDate":"2022-09-10 12:41:05 PM","durationMillis":5125.778056,"passedCount":1}